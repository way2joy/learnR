R Cook Book
====================================================

Useful expression

## 2.

### 2.9 Selecting Vector Elements

```{r}
# Select all elements greater than the median
v[ v>median(v) ]

# Select all elements in the lower and upper 5%
v[ (v<quantile(v,0.05))|(v>quantile(v,0.95)) ]

# Select all elements that exceed +- 2 standard deviatins from the mean
v[ abs(v-mean(v)) > 2*sd(v) ]

# Select all elements that are neither NA nor NULL
v[ !is.na(v)&!is.null(v) ]
```

## 3.

## 4. 

### 4.2 Printing Fewer Digits

```{r}
print(pi, digits=4)
cat(format(pi, digits=4), "\n")

a <- pnorm(-3:3) ; a
print(a, digits=3)
```

### 4.3 Redirecting Output to a File

redirect the output from R into a file instead of your console

use `cat`
```{r}
cat("The result is", result, "\n", file="filename")
```

use `sink`
```{r}
sink("filename")
print(result)
sink()
```

use `sink` 
```{r}
sink("script_output.txt")
source("script.R")
sink()
```

use `cat`
```{r}
con <- file("analysiReport.out", "w")
cat(data, file=con)
cat(result, file=con)
cat(conclusion, file=con)
close(con)
```

## 5. Data Structures

Matrix : just a vector that has dimentions

```{r}
A <- 1:6
dim(A) ; print(A)

dim(A) <- c(2,3)
print(A)

dim(A) <- c(3,2)
print(A)
```

Matrix can be creatied from a list

```{r}
B <- list(1,2,3,4,5,6)
dim(B) ; print(B)

dim(B) <- c(2,3)
print(B)

dim(B) <- c(3,2)
print(B)
```

Array is general type of matrix

```{r}
D <- c(1:12)
dim(D) <- c(2,3,2)
print(D)
```

## 6. Data Transformation

### 6.4 Applying a Function to Every Column

apply, lapply and sapply

```{r}
# homogeneous only. (like vector, matrix)
apply(iris, 2, class)  # force to make data conversion

# heterogeneous available (like list, data.frame)
lapply(iris, class)   # return to list
sapply(iris, class)   # return to vector
```

### 6.5 Applying a Function to Groups of Data

tapply(vector, factor, function)

```{r}
# factor로 나누어진 vector의 value 다루기
tapply(iris$Sepal.Length, iris$Species, length)
```

### 6.6 Applying a Function to Groups of Rows

by(data.frame, factor, function)

```{r}
by(iris[1:4], iris$Species, summary)    # return to list

```

